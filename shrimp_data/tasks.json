{
  "tasks": [
    {
      "id": "2fa09223-b681-4c71-9998-e968a13b3f96",
      "name": "인증 타입 정의 파일 생성",
      "description": "관리자 인증 시스템에 필요한 모든 TypeScript 타입을 정의하는 types/auth.ts 파일을 생성합니다. User, Session, LoginCredentials, AuthState, AuthContext, LoginResponse, SessionResponse 인터페이스를 포함합니다.",
      "notes": "기존 types/index.ts 패턴을 참고하되, 인증 관련 타입은 별도 파일로 분리합니다. snake_case 속성명 사용 (기존 Invoice 타입과 일치). Discriminated Union을 사용하여 타입 안전성을 보장합니다.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2025-12-30T00:41:12.044Z",
      "updatedAt": "2025-12-30T01:01:58.549Z",
      "relatedFiles": [
        {
          "path": "types/auth.ts",
          "type": "CREATE",
          "description": "신규 생성: 인증 관련 TypeScript 타입 정의 파일"
        },
        {
          "path": "types/index.ts",
          "type": "REFERENCE",
          "description": "기존 타입 정의 패턴 참고"
        }
      ],
      "implementationGuide": "1. types/auth.ts 파일 생성\n2. User 인터페이스 정의 (id: string, username: string, role: 'admin')\n3. Session 인터페이스 정의 (user: User, expires_at: number, created_at: number)\n4. LoginCredentials 인터페이스 정의 (username: string, password: string)\n5. AuthState discriminated union 타입 정의 (isAuthenticated: true/false로 구분)\n6. AuthContext 인터페이스 정의 (authState, login, logout, checkSession 메서드)\n7. LoginResponse 인터페이스 정의 (success, user?, session?, error?, message?)\n8. SessionResponse 인터페이스 정의 (success, session?, error?)\n9. 각 타입에 JSDoc 주석 추가\n10. export 키워드로 모든 타입 내보내기",
      "verificationCriteria": "1. types/auth.ts 파일이 생성되었는가?\n2. 모든 필수 인터페이스(User, Session, LoginCredentials, AuthState, AuthContext, LoginResponse, SessionResponse)가 정의되었는가?\n3. JSDoc 주석이 각 타입에 추가되었는가?\n4. export 키워드로 모든 타입이 내보내기 되었는가?\n5. AuthState가 discriminated union 타입으로 정의되었는가?\n6. TypeScript 컴파일 에러가 없는가?",
      "analysisResult": "Task 019는 관리자 인증 시스템의 기반이 되는 TypeScript 타입 정의 및 환경 변수 확장 작업입니다. 이 작업은 Phase 1의 첫 단계로, Task 020(로그인 UI), Task 021(인증 API), Task 022(관리자 레이아웃)에서 사용할 명확한 타입 인터페이스를 제공합니다.\\n\\n프로젝트 아키텍처:\\n- Next.js 16.1 App Router, TypeScript strict mode\\n- Zod를 사용한 환경 변수 및 폼 검증\\n- types/ 디렉토리에 공유 타입 정의\\n- lib/ 디렉토리에 유틸리티 및 검증 로직\\n\\n핵심 원칙:\\n- 기존 패턴 준수 (types/index.ts, lib/env.ts, lib/validations.ts)\\n- TypeScript strict mode 통과\\n- 중복 기능 없음, 새로운 인증 시스템 구축\\n- 보안: server-side 환경 변수, 최소 길이 검증",
      "summary": "types/auth.ts 파일을 성공적으로 생성하고 모든 인증 관련 TypeScript 타입을 정의했습니다.\n\n**구현 완료 항목:**\n1. ✅ User 인터페이스 (id, username, role: 'admin')\n2. ✅ Session 인터페이스 (user, expires_at, created_at)\n3. ✅ LoginCredentials 인터페이스 (username, password)\n4. ✅ AuthState discriminated union 타입 (isAuthenticated로 구분)\n5. ✅ AuthContext 인터페이스 (authState, login, logout, checkSession)\n6. ✅ LoginResponse 인터페이스 (success, user?, session?, error?, message?)\n7. ✅ SessionResponse 인터페이스 (success, session?, error?)\n\n**품질 검증:**\n- JSDoc 주석이 모든 타입에 추가됨\n- export 키워드로 모든 타입 내보내기 완료\n- discriminated union으로 타입 안전성 보장\n- TypeScript strict mode 컴파일 에러 없음 (npm run type-check 통과)\n- 기존 types/index.ts 패턴과 일관성 유지\n\nTask 020, 021, 022에서 사용할 명확한 타입 인터페이스를 제공합니다.",
      "completedAt": "2025-12-30T01:01:58.547Z"
    },
    {
      "id": "3c8b1446-f7f1-4e96-bcc9-2f115437bbea",
      "name": "환경 변수 스키마 확장",
      "description": "lib/env.ts 파일의 Zod 스키마를 확장하여 관리자 인증에 필요한 환경 변수(ADMIN_USERNAME, ADMIN_PASSWORD, SESSION_SECRET)를 추가하고 검증 규칙을 설정합니다.",
      "notes": "기존 환경 변수는 수정하지 않고, 새 환경 변수만 추가합니다. Zod 체인 패턴(.min(), .describe())을 기존 스타일과 일치시킵니다. 보안을 위해 ADMIN_PASSWORD와 SESSION_SECRET는 NEXT_PUBLIC_ 접두사를 사용하지 않습니다(server-side 전용).",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2025-12-30T00:41:12.045Z",
      "updatedAt": "2025-12-30T01:05:10.905Z",
      "relatedFiles": [
        {
          "path": "lib/env.ts",
          "type": "TO_MODIFY",
          "description": "환경 변수 Zod 스키마 확장",
          "lineStart": 7,
          "lineEnd": 26
        }
      ],
      "implementationGuide": "1. lib/env.ts 파일 열기\n2. envSchema 객체에 새 필드 추가:\n   - ADMIN_USERNAME: z.string().min(3, \\\"ADMIN_USERNAME must be at least 3 characters\\\").describe(\\\"Administrator username for login\\\")\n   - ADMIN_PASSWORD: z.string().min(8, \\\"ADMIN_PASSWORD must be at least 8 characters\\\").describe(\\\"Administrator password for login\\\")\n   - SESSION_SECRET: z.string().min(32, \\\"SESSION_SECRET must be at least 32 characters for security\\\").describe(\\\"Secret key for session encryption and signing\\\")\n3. env 객체 파싱에 새 환경 변수 추가:\n   - ADMIN_USERNAME: process.env.ADMIN_USERNAME\n   - ADMIN_PASSWORD: process.env.ADMIN_PASSWORD\n   - SESSION_SECRET: process.env.SESSION_SECRET\n4. 주석으로 기존 환경 변수와 신규 환경 변수 구분\n5. 파일 저장",
      "verificationCriteria": "1. envSchema에 ADMIN_USERNAME, ADMIN_PASSWORD, SESSION_SECRET 필드가 추가되었는가?\n2. 각 필드에 적절한 검증 규칙(.min())이 설정되었는가?\n3. 각 필드에 .describe() 메서드로 설명이 추가되었는가?\n4. env 객체 파싱에 새 환경 변수가 추가되었는가?\n5. 기존 환경 변수는 수정되지 않았는가?\n6. TypeScript 컴파일 에러가 없는가?\n7. Env 타입이 자동으로 새 필드를 포함하는가?",
      "analysisResult": "Task 019는 관리자 인증 시스템의 기반이 되는 TypeScript 타입 정의 및 환경 변수 확장 작업입니다. 이 작업은 Phase 1의 첫 단계로, Task 020(로그인 UI), Task 021(인증 API), Task 022(관리자 레이아웃)에서 사용할 명확한 타입 인터페이스를 제공합니다.\\n\\n프로젝트 아키텍처:\\n- Next.js 16.1 App Router, TypeScript strict mode\\n- Zod를 사용한 환경 변수 및 폼 검증\\n- types/ 디렉토리에 공유 타입 정의\\n- lib/ 디렉토리에 유틸리티 및 검증 로직\\n\\n핵심 원칙:\\n- 기존 패턴 준수 (types/index.ts, lib/env.ts, lib/validations.ts)\\n- TypeScript strict mode 통과\\n- 중복 기능 없음, 새로운 인증 시스템 구축\\n- 보안: server-side 환경 변수, 최소 길이 검증",
      "summary": "lib/env.ts 파일을 성공적으로 확장하여 관리자 인증에 필요한 환경 변수를 추가했습니다.\n\n**구현 완료 항목:**\n1. ✅ envSchema에 ADMIN_USERNAME 추가 (min: 3자, 검증 메시지 포함)\n2. ✅ envSchema에 ADMIN_PASSWORD 추가 (min: 8자, 보안 요구사항 충족)\n3. ✅ envSchema에 SESSION_SECRET 추가 (min: 32자, 세션 암호화 보안)\n4. ✅ 각 필드에 .describe() 메서드로 설명 추가\n5. ✅ env 객체 파싱에 새 환경 변수 추가\n6. ✅ 주석으로 기존/신규 환경 변수 구분\n\n**품질 검증:**\n- 기존 환경 변수(NOTION_API_KEY, NOTION_DATABASE_ID 등) 수정 없음\n- Zod 체인 패턴(.min(), .describe()) 기존 스타일과 일치\n- NEXT_PUBLIC_ 접두사 없음 (server-side 전용, 보안)\n- TypeScript strict mode 컴파일 에러 없음\n- Env 타입이 z.infer로 자동 추론되어 새 필드 포함\n\nTask 021에서 env.ADMIN_USERNAME, env.ADMIN_PASSWORD, env.SESSION_SECRET를 사용할 수 있습니다.",
      "completedAt": "2025-12-30T01:05:10.903Z"
    },
    {
      "id": "1fd1d9f4-e2f1-4be7-819e-a79a4cca201b",
      "name": "로그인 폼 검증 스키마 추가",
      "description": "lib/validations.ts 파일에 로그인 폼을 위한 Zod 검증 스키마(loginSchema)를 추가하고, 타입을 추론(LoginFormData)합니다.",
      "notes": "기존 검증 스키마 패턴([feature]Schema, [Feature]FormData)을 따릅니다. 이중 .min() 체인으로 빈 값 검증과 길이 검증을 분리합니다. 한국어 에러 메시지를 사용합니다(프로젝트 한글화 정책). 환경 변수 검증과 동일한 최소 길이(username 3자, password 8자)를 사용합니다.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2025-12-30T00:41:12.045Z",
      "updatedAt": "2025-12-30T01:05:58.167Z",
      "relatedFiles": [
        {
          "path": "lib/validations.ts",
          "type": "TO_MODIFY",
          "description": "로그인 폼 검증 스키마 추가",
          "lineStart": 9,
          "lineEnd": 9
        }
      ],
      "implementationGuide": "1. lib/validations.ts 파일 열기\n2. 파일 끝에 새 스키마 추가:\n   export const loginSchema = z.object({\n     username: z.string().min(1, \\\"사용자명을 입력해주세요\\\").min(3, \\\"사용자명은 최소 3자 이상이어야 합니다\\\"),\n     password: z.string().min(1, \\\"비밀번호를 입력해주세요\\\").min(8, \\\"비밀번호는 최소 8자 이상이어야 합니다\\\")\n   });\n3. 타입 추론 추가:\n   export type LoginFormData = z.infer<typeof loginSchema>;\n4. 기존 invoiceSearchSchema는 수정하지 않음\n5. 파일 저장",
      "verificationCriteria": "1. loginSchema가 정의되었는가?\n2. username 필드에 이중 .min() 검증이 있는가?\n3. password 필드에 이중 .min() 검증이 있는가?\n4. 에러 메시지가 한국어로 작성되었는가?\n5. LoginFormData 타입이 z.infer로 추론되었는가?\n6. 기존 invoiceSearchSchema는 수정되지 않았는가?\n7. TypeScript 컴파일 에러가 없는가?",
      "analysisResult": "Task 019는 관리자 인증 시스템의 기반이 되는 TypeScript 타입 정의 및 환경 변수 확장 작업입니다. 이 작업은 Phase 1의 첫 단계로, Task 020(로그인 UI), Task 021(인증 API), Task 022(관리자 레이아웃)에서 사용할 명확한 타입 인터페이스를 제공합니다.\\n\\n프로젝트 아키텍처:\\n- Next.js 16.1 App Router, TypeScript strict mode\\n- Zod를 사용한 환경 변수 및 폼 검증\\n- types/ 디렉토리에 공유 타입 정의\\n- lib/ 디렉토리에 유틸리티 및 검증 로직\\n\\n핵심 원칙:\\n- 기존 패턴 준수 (types/index.ts, lib/env.ts, lib/validations.ts)\\n- TypeScript strict mode 통과\\n- 중복 기능 없음, 새로운 인증 시스템 구축\\n- 보안: server-side 환경 변수, 최소 길이 검증",
      "summary": "lib/validations.ts 파일에 로그인 폼 검증 스키마를 성공적으로 추가했습니다.\n\n**구현 완료 항목:**\n1. ✅ loginSchema 정의 (username, password 필드)\n2. ✅ username 이중 검증 (빈 값 + 최소 3자)\n3. ✅ password 이중 검증 (빈 값 + 최소 8자)\n4. ✅ 한국어 에러 메시지 (\"사용자명을 입력해주세요\", \"비밀번호는 최소 8자 이상이어야 합니다\")\n5. ✅ LoginFormData 타입 추론 (z.infer<typeof loginSchema>)\n\n**품질 검증:**\n- 기존 invoiceSearchSchema 수정 없음\n- 환경 변수 검증과 동일한 최소 길이 규칙 적용 (username 3자, password 8자)\n- TypeScript strict mode 컴파일 에러 없음\n- 기존 패턴([feature]Schema, [Feature]FormData) 준수\n\nTask 020 로그인 UI에서 React Hook Form의 zodResolver와 함께 사용할 수 있습니다.",
      "completedAt": "2025-12-30T01:05:58.164Z"
    },
    {
      "id": "b82f6292-59f9-4889-ba1b-4530fe007958",
      "name": "환경 변수 예시 파일 업데이트",
      "description": ".env.example 파일에 관리자 인증에 필요한 환경 변수 예시를 추가하여 개발자가 필요한 환경 변수를 쉽게 파악할 수 있도록 문서화합니다.",
      "notes": "기존 환경 변수는 수정하지 않습니다. 새 섹션을 명확히 구분하기 위해 주석을 추가합니다. 예시 값은 최소 요구사항을 충족하되, 프로덕션 환경에서 변경이 필요함을 명시합니다.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "3c8b1446-f7f1-4e96-bcc9-2f115437bbea"
        }
      ],
      "createdAt": "2025-12-30T00:41:12.045Z",
      "updatedAt": "2025-12-30T01:06:42.866Z",
      "relatedFiles": [
        {
          "path": ".env.example",
          "type": "TO_MODIFY",
          "description": "인증 관련 환경 변수 예시 추가",
          "lineStart": 17,
          "lineEnd": 17
        },
        {
          "path": "lib/env.ts",
          "type": "REFERENCE",
          "description": "환경 변수 스키마 참고"
        }
      ],
      "implementationGuide": "1. .env.example 파일 열기\n2. 파일 끝에 새 섹션 추가:\n\\n# Administrator Authentication (Phase 1 - 고도화)\\n# Set strong credentials for production\\nADMIN_USERNAME=admin\\nADMIN_PASSWORD=change-this-to-secure-password-min-8-chars\\nSESSION_SECRET=change-this-to-random-secret-key-min-32-characters\n3. 주석으로 프로덕션 환경에서 강력한 비밀번호 사용 권장\n4. 파일 저장",
      "verificationCriteria": "1. .env.example에 Administrator Authentication 섹션이 추가되었는가?\n2. ADMIN_USERNAME, ADMIN_PASSWORD, SESSION_SECRET 예시가 추가되었는가?\n3. 주석으로 프로덕션 환경 주의사항이 명시되었는가?\n4. 예시 값이 최소 요구사항(username 3자, password 8자, secret 32자)을 충족하는가?\n5. 기존 환경 변수 예시는 수정되지 않았는가?",
      "analysisResult": "Task 019는 관리자 인증 시스템의 기반이 되는 TypeScript 타입 정의 및 환경 변수 확장 작업입니다. 이 작업은 Phase 1의 첫 단계로, Task 020(로그인 UI), Task 021(인증 API), Task 022(관리자 레이아웃)에서 사용할 명확한 타입 인터페이스를 제공합니다.\\n\\n프로젝트 아키텍처:\\n- Next.js 16.1 App Router, TypeScript strict mode\\n- Zod를 사용한 환경 변수 및 폼 검증\\n- types/ 디렉토리에 공유 타입 정의\\n- lib/ 디렉토리에 유틸리티 및 검증 로직\\n\\n핵심 원칙:\\n- 기존 패턴 준수 (types/index.ts, lib/env.ts, lib/validations.ts)\\n- TypeScript strict mode 통과\\n- 중복 기능 없음, 새로운 인증 시스템 구축\\n- 보안: server-side 환경 변수, 최소 길이 검증",
      "summary": ".env.example 파일에 관리자 인증 환경 변수 예시를 성공적으로 추가했습니다.\n\n**구현 완료 항목:**\n1. ✅ Administrator Authentication 섹션 추가\n2. ✅ ADMIN_USERNAME 예시 (admin, 최소 3자 충족)\n3. ✅ ADMIN_PASSWORD 예시 (change-this-to-secure-password-min-8-chars, 최소 8자 충족)\n4. ✅ SESSION_SECRET 예시 (change-this-to-random-secret-key-min-32-characters, 최소 32자 충족)\n5. ✅ 프로덕션 환경 주의사항 주석 (\"Set strong credentials for production\")\n\n**품질 검증:**\n- 기존 환경 변수 예시(NOTION_API_KEY, NOTION_DATABASE_ID 등) 수정 없음\n- 새 섹션을 명확히 구분하는 주석 추가 (Phase 1 - 고도화)\n- 예시 값이 모든 최소 요구사항 충족\n- 개발자가 필요한 환경 변수를 쉽게 파악 가능\n\n개발자는 이 파일을 참고하여 .env.local을 생성하고 실제 환경 변수를 설정할 수 있습니다.",
      "completedAt": "2025-12-30T01:06:42.864Z"
    },
    {
      "id": "7a1e592b-5102-4a85-99a4-c5f7a5602158",
      "name": "타입 체크 및 빌드 검증",
      "description": "모든 타입 정의와 환경 변수 확장이 올바르게 작동하는지 TypeScript 타입 체크 및 프로덕션 빌드를 수행하여 검증합니다.",
      "notes": "환경 변수 검증은 애플리케이션 시작 시 자동으로 수행됩니다. ADMIN_USERNAME, ADMIN_PASSWORD, SESSION_SECRET가 없으면 Zod 검증 에러가 발생하므로, .env.local 파일에 테스트 값을 추가해야 합니다. 프로덕션 배포 시에는 실제 강력한 비밀번호로 교체해야 합니다.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "2fa09223-b681-4c71-9998-e968a13b3f96"
        },
        {
          "taskId": "3c8b1446-f7f1-4e96-bcc9-2f115437bbea"
        },
        {
          "taskId": "1fd1d9f4-e2f1-4be7-819e-a79a4cca201b"
        },
        {
          "taskId": "b82f6292-59f9-4889-ba1b-4530fe007958"
        }
      ],
      "createdAt": "2025-12-30T00:41:12.045Z",
      "updatedAt": "2025-12-30T01:08:15.337Z",
      "relatedFiles": [
        {
          "path": "types/auth.ts",
          "type": "REFERENCE",
          "description": "타입 체크 대상"
        },
        {
          "path": "lib/env.ts",
          "type": "REFERENCE",
          "description": "환경 변수 검증 대상"
        },
        {
          "path": "lib/validations.ts",
          "type": "REFERENCE",
          "description": "검증 스키마 대상"
        },
        {
          "path": ".env.local",
          "type": "CREATE",
          "description": "테스트용 환경 변수 파일 (git ignored)"
        }
      ],
      "implementationGuide": "1. npm run type-check 실행\n   - 예상 결과: Found 0 errors\n   - 에러 발생 시: 타입 정의 확인 및 수정\n2. npm run build 실행\n   - 예상 결과: Build succeeded\n   - 빌드 실패 시: 환경 변수 검증 문제 확인\n3. .env.local 파일 생성 (테스트용):\n   ADMIN_USERNAME=admin\n   ADMIN_PASSWORD=test1234\n   SESSION_SECRET=test-secret-key-at-least-32-characters-long\n4. npm run dev 실행\n   - 예상 결과: Server started without errors\n   - 환경 변수 검증 에러 발생 시: .env.local 값 확인\n5. 개발 서버 정상 실행 확인 후 종료",
      "verificationCriteria": "1. npm run type-check가 0 errors로 통과하는가?\n2. npm run build가 성공하는가?\n3. .env.local 파일에 테스트 환경 변수가 설정되었는가?\n4. npm run dev가 환경 변수 검증 에러 없이 실행되는가?\n5. 개발 서버가 정상적으로 시작되는가?\n6. 모든 타입이 올바르게 추론되는가?\n7. Zod 환경 변수 검증이 정상 작동하는가?",
      "analysisResult": "Task 019는 관리자 인증 시스템의 기반이 되는 TypeScript 타입 정의 및 환경 변수 확장 작업입니다. 이 작업은 Phase 1의 첫 단계로, Task 020(로그인 UI), Task 021(인증 API), Task 022(관리자 레이아웃)에서 사용할 명확한 타입 인터페이스를 제공합니다.\\n\\n프로젝트 아키텍처:\\n- Next.js 16.1 App Router, TypeScript strict mode\\n- Zod를 사용한 환경 변수 및 폼 검증\\n- types/ 디렉토리에 공유 타입 정의\\n- lib/ 디렉토리에 유틸리티 및 검증 로직\\n\\n핵심 원칙:\\n- 기존 패턴 준수 (types/index.ts, lib/env.ts, lib/validations.ts)\\n- TypeScript strict mode 통과\\n- 중복 기능 없음, 새로운 인증 시스템 구축\\n- 보안: server-side 환경 변수, 최소 길이 검증",
      "summary": "모든 타입 정의와 환경 변수 확장이 올바르게 작동하는지 TypeScript 타입 체크 및 프로덕션 빌드를 성공적으로 검증했습니다.\n\n**검증 완료 항목:**\n1. ✅ TypeScript 타입 체크 통과 (npm run type-check: 0 errors)\n2. ✅ 프로덕션 빌드 성공 (npm run build: Compiled successfully in 3.5s)\n3. ✅ .env.local 파일 생성 및 테스트 환경 변수 설정\n   - ADMIN_USERNAME=admin\n   - ADMIN_PASSWORD=test1234\n   - SESSION_SECRET=test-secret-key-at-least-32-characters-long\n4. ✅ 개발 서버 정상 시작 (npm run dev: Ready in 874ms)\n5. ✅ 환경 변수 검증 에러 없음 (Zod 검증 통과)\n\n**품질 검증:**\n- types/auth.ts의 모든 타입이 올바르게 추론됨\n- lib/env.ts의 Zod 스키마 검증이 정상 작동\n- lib/validations.ts의 로그인 스키마가 타입 안전하게 정의됨\n- 모든 의존성 작업(인증 타입, 환경 변수, 검증 스키마, .env.example)이 올바르게 통합됨\n\n**Task 019 전체 완료**: Phase 1 (Task 020-022)에서 사용할 모든 기반 작업이 준비되었습니다.",
      "completedAt": "2025-12-30T01:08:15.335Z"
    },
    {
      "id": "cb5f18e5-1a33-462d-a864-ddd5b009dc9b",
      "name": "Task 020: 관리자 로그인 UI 구현",
      "description": "관리자 로그인 페이지를 구현합니다. (auth) 라우트 그룹에 로그인 페이지를 생성하고, React Hook Form과 Zod 검증을 사용한 로그인 폼을 구현합니다. 로딩 상태, 에러 메시지, 성공/실패 피드백 UI를 포함합니다.",
      "notes": "기존 (main) 라우트 그룹과 별도로 (auth) 라우트 그룹을 생성합니다. shadcn/ui Card, Form, Input, Button 컴포넌트를 활용합니다. Client Component로 구현 (use client). Task 019의 LoginFormData, loginSchema를 사용합니다.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "2fa09223-b681-4c71-9998-e968a13b3f96"
        },
        {
          "taskId": "1fd1d9f4-e2f1-4be7-819e-a79a4cca201b"
        }
      ],
      "createdAt": "2025-12-30T00:51:07.362Z",
      "updatedAt": "2025-12-30T01:12:42.377Z",
      "relatedFiles": [
        {
          "path": "app/(auth)/login/page.tsx",
          "type": "CREATE",
          "description": "로그인 페이지"
        },
        {
          "path": "app/(auth)/layout.tsx",
          "type": "CREATE",
          "description": "인증 레이아웃"
        },
        {
          "path": "types/auth.ts",
          "type": "REFERENCE",
          "description": "타입 참조"
        },
        {
          "path": "lib/validations.ts",
          "type": "REFERENCE",
          "description": "검증 스키마 참조"
        }
      ],
      "implementationGuide": "1. app/(auth)/login/page.tsx 파일 생성 (센터 정렬 레이아웃)\n2. (auth) 라우트 그룹 레이아웃 생성 (app/(auth)/layout.tsx)\n3. 로그인 폼 컴포넌트 구현:\n   - React Hook Form 사용\n   - zodResolver(loginSchema) 검증\n   - username, password 필드\n4. 로딩 상태 관리 (isSubmitting)\n5. 에러 메시지 표시 (서버 응답 기반)\n6. 성공 시 /admin/invoices로 리다이렉션\n7. 메타데이터 추가 (title, description)",
      "verificationCriteria": "1. /login 경로로 로그인 페이지 접근 가능\n2. 로그인 폼이 React Hook Form + Zod로 검증됨\n3. 빈 값 입력 시 에러 메시지 표시\n4. 로딩 상태 표시\n5. 다크 모드 지원\n6. TypeScript 타입 체크 통과\n7. 빌드 성공",
      "analysisResult": "Phase 1-4 고도화 작업: 관리자 인증 시스템, 공유 링크 복사, 다크 모드 완성, 통합 테스트 및 최적화를 포함한 전체 로드맵입니다.\\n\\nTask 019는 이미 세부 작업으로 분할되어 있으며, Task 020-030은 고수준 작업으로 생성됩니다. 각 고수준 작업은 실행 시 세부 작업으로 분할될 수 있습니다.\\n\\n기술적 의존성:\\n- Task 019 완료 후 Task 020, 021 병렬 실행 가능\\n- Task 020, 021 완료 후 Task 022 실행\\n- Task 022 완료 후 Phase 2, 3 병렬 실행 가능\\n- 모든 Phase 완료 후 Phase 4 실행",
      "summary": "Task 020 구현 완료: 관리자 로그인 UI를 성공적으로 구현했습니다. (auth) 라우트 그룹에 센터 정렬 레이아웃과 로그인 페이지를 생성하고, React Hook Form + Zod 검증을 통합했습니다. 모든 검증 기준을 충족했으며 TypeScript 타입 체크와 프로덕션 빌드가 성공했습니다. /admin/invoices 리다이렉션 라우트는 Task 022에서 생성될 예정이므로 타입 단언을 사용했습니다.",
      "completedAt": "2025-12-30T01:12:42.375Z"
    },
    {
      "id": "8a873eef-971f-49b3-a179-58efbdac55c9",
      "name": "Task 021: 인증 API 및 세션 관리 구현",
      "description": "로그인, 로그아웃, 세션 검증 API를 구현합니다. 쿠키 기반 세션 관리를 위한 유틸리티를 작성하고, 환경 변수 기반 관리자 자격 증명 검증을 구현합니다.",
      "notes": "jose 라이브러리를 사용한 JWT 세션 암호화 권장. httpOnly, secure, sameSite 쿠키 옵션 설정. env.ADMIN_USERNAME, env.ADMIN_PASSWORD, env.SESSION_SECRET 사용. Task 019의 타입 활용.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "2fa09223-b681-4c71-9998-e968a13b3f96"
        },
        {
          "taskId": "3c8b1446-f7f1-4e96-bcc9-2f115437bbea"
        }
      ],
      "createdAt": "2025-12-30T00:51:07.362Z",
      "updatedAt": "2025-12-30T01:18:52.072Z",
      "relatedFiles": [
        {
          "path": "lib/session.ts",
          "type": "CREATE",
          "description": "세션 관리 유틸리티"
        },
        {
          "path": "app/api/auth/login/route.ts",
          "type": "CREATE",
          "description": "로그인 API"
        },
        {
          "path": "app/api/auth/logout/route.ts",
          "type": "CREATE",
          "description": "로그아웃 API"
        },
        {
          "path": "app/api/auth/session/route.ts",
          "type": "CREATE",
          "description": "세션 검증 API"
        },
        {
          "path": "types/auth.ts",
          "type": "REFERENCE",
          "description": "타입 참조"
        },
        {
          "path": "lib/env.ts",
          "type": "REFERENCE",
          "description": "환경 변수 참조"
        }
      ],
      "implementationGuide": "1. 세션 관리 유틸리티 생성 (lib/session.ts):\n   - createSession(user: User): Session\n   - encryptSession(session: Session): string\n   - decryptSession(token: string): Session | null\n   - isSessionExpired(session: Session): boolean\n2. app/api/auth/login/route.ts 구현:\n   - POST: 자격 증명 검증\n   - 성공 시 세션 생성 및 쿠키 설정\n   - LoginResponse 반환\n3. app/api/auth/logout/route.ts 구현:\n   - POST: 세션 쿠키 삭제\n4. app/api/auth/session/route.ts 구현:\n   - GET: 세션 검증 및 반환\n5. Playwright MCP 테스트 작성",
      "verificationCriteria": "1. 올바른 자격 증명으로 로그인 성공\n2. 잘못된 자격 증명으로 로그인 실패\n3. 로그아웃 후 세션 무효화\n4. 만료된 세션 처리\n5. Playwright MCP 테스트 통과\n6. TypeScript 타입 체크 통과",
      "analysisResult": "Phase 1-4 고도화 작업: 관리자 인증 시스템, 공유 링크 복사, 다크 모드 완성, 통합 테스트 및 최적화를 포함한 전체 로드맵입니다.\\n\\nTask 019는 이미 세부 작업으로 분할되어 있으며, Task 020-030은 고수준 작업으로 생성됩니다. 각 고수준 작업은 실행 시 세부 작업으로 분할될 수 있습니다.\\n\\n기술적 의존성:\\n- Task 019 완료 후 Task 020, 021 병렬 실행 가능\\n- Task 020, 021 완료 후 Task 022 실행\\n- Task 022 완료 후 Phase 2, 3 병렬 실행 가능\\n- 모든 Phase 완료 후 Phase 4 실행",
      "summary": "Task 021 구현 완료: 인증 API 및 세션 관리 시스템을 성공적으로 구현했습니다. jose 라이브러리를 활용한 JWT 세션 암호화, 쿠키 기반 세션 관리 유틸리티(lib/session.ts), 로그인/로그아웃/세션 검증 API 엔드포인트를 생성했습니다. Playwright 테스트로 올바른 자격 증명 로그인, 잘못된 자격 증명 거부, 로그아웃 후 세션 무효화를 모두 검증했습니다. httpOnly, secure, sameSite 쿠키 옵션을 적용하여 보안을 강화했으며, TypeScript 타입 체크와 프로덕션 빌드가 성공했습니다.",
      "completedAt": "2025-12-30T01:18:52.070Z"
    },
    {
      "id": "5590a5cb-4a37-44e7-a51c-7928c4c847b3",
      "name": "Task 022: 관리자 전용 레이아웃 및 라우트 보호",
      "description": "관리자 전용 (admin) 라우트 그룹을 생성하고, 인보이스 목록 페이지를 관리자 영역으로 이동합니다. 미인증 사용자는 로그인 페이지로 리다이렉션하고, 관리자 헤더에 로그아웃 버튼을 추가합니다.",
      "notes": "기존 (main) 인보이스 목록 페이지를 (admin)으로 이동. 인보이스 상세 페이지(/invoices/[id])는 공개 유지 (클라이언트 접근). Server Component에서 세션 검증.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "cb5f18e5-1a33-462d-a864-ddd5b009dc9b"
        },
        {
          "taskId": "8a873eef-971f-49b3-a179-58efbdac55c9"
        }
      ],
      "createdAt": "2025-12-30T00:51:07.362Z",
      "updatedAt": "2025-12-30T00:51:07.362Z",
      "relatedFiles": [
        {
          "path": "app/(admin)/layout.tsx",
          "type": "CREATE",
          "description": "관리자 레이아웃"
        },
        {
          "path": "app/(admin)/invoices/page.tsx",
          "type": "CREATE",
          "description": "관리자 인보이스 목록"
        },
        {
          "path": "app/(main)/invoices/page.tsx",
          "type": "TO_MODIFY",
          "description": "이동 또는 삭제"
        },
        {
          "path": "components/admin-header.tsx",
          "type": "CREATE",
          "description": "관리자 헤더"
        },
        {
          "path": "components/nav-menu.tsx",
          "type": "TO_MODIFY",
          "description": "조건부 렌더링"
        }
      ],
      "implementationGuide": "1. app/(admin)/layout.tsx 생성:\n   - 세션 검증 (Server Component)\n   - 미인증 시 redirect('/login')\n   - 관리자 헤더 렌더링\n2. app/(main)/invoices/page.tsx를 app/(admin)/invoices/page.tsx로 이동\n3. 관리자 헤더 컴포넌트 생성 (components/admin-header.tsx):\n   - 로그아웃 버튼\n   - 사용자 정보 표시\n4. 네비게이션 메뉴 업데이트 (인증 상태 기반 조건부 렌더링)\n5. Playwright MCP 테스트 작성",
      "verificationCriteria": "1. 미인증 사용자가 /admin/invoices 접근 시 /login으로 리다이렉션\n2. 인증된 사용자가 /admin/invoices 정상 접근\n3. 로그아웃 후 /admin/invoices 접근 불가\n4. 클라이언트는 /invoices/[id] 공개 접근 가능\n5. Playwright MCP 테스트 통과",
      "analysisResult": "Phase 1-4 고도화 작업: 관리자 인증 시스템, 공유 링크 복사, 다크 모드 완성, 통합 테스트 및 최적화를 포함한 전체 로드맵입니다.\\n\\nTask 019는 이미 세부 작업으로 분할되어 있으며, Task 020-030은 고수준 작업으로 생성됩니다. 각 고수준 작업은 실행 시 세부 작업으로 분할될 수 있습니다.\\n\\n기술적 의존성:\\n- Task 019 완료 후 Task 020, 021 병렬 실행 가능\\n- Task 020, 021 완료 후 Task 022 실행\\n- Task 022 완료 후 Phase 2, 3 병렬 실행 가능\\n- 모든 Phase 완료 후 Phase 4 실행"
    },
    {
      "id": "68a29298-be59-4148-8940-9014f1473ba6",
      "name": "Task 023: 클립보드 복사 유틸리티 구현",
      "description": "브라우저 Clipboard API를 래핑한 유틸리티 함수를 구현합니다. 브라우저 호환성을 고려한 폴백 로직과 복사 성공/실패 상태를 반환하는 타입 안전한 함수를 작성합니다.",
      "notes": "현대 브라우저는 Clipboard API를 지원하지만, 일부 구형 브라우저를 위한 폴백이 필요합니다. HTTPS 환경에서만 작동하는 Clipboard API 특성 고려.",
      "status": "pending",
      "dependencies": [],
      "createdAt": "2025-12-30T00:51:38.558Z",
      "updatedAt": "2025-12-30T00:51:38.558Z",
      "relatedFiles": [
        {
          "path": "lib/clipboard.ts",
          "type": "CREATE",
          "description": "클립보드 유틸리티"
        }
      ],
      "implementationGuide": "1. lib/clipboard.ts 파일 생성\n2. copyToClipboard 함수 구현:\n   - navigator.clipboard.writeText() 사용\n   - 실패 시 document.execCommand('copy') 폴백\n   - 성공/실패 boolean 반환\n3. 타입 정의:\n   - CopyResult: { success: boolean; error?: string }\n4. 브라우저 호환성 체크 함수\n5. JSDoc 주석 추가",
      "verificationCriteria": "1. copyToClipboard 함수가 정의됨\n2. Clipboard API 사용\n3. 폴백 로직 구현\n4. 성공/실패 반환\n5. TypeScript 타입 체크 통과\n6. 브라우저 호환성 체크",
      "analysisResult": "Phase 2: 공유 링크 복사 기능 구현. 클립보드 API를 활용한 인보이스 공유 링크 복사 기능을 구현합니다."
    },
    {
      "id": "6ed79d66-01ea-44ec-95de-a67bae973880",
      "name": "Task 024: 공유 링크 복사 버튼 컴포넌트 구현",
      "description": "재사용 가능한 공유 링크 복사 버튼 컴포넌트를 생성합니다. 복사 완료 피드백 UI, 로딩 상태, 접근성 지원을 포함합니다.",
      "notes": "Client Component (use client). Task 023의 copyToClipboard 함수 사용. lucide-react의 Copy, Check 아이콘 활용.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "68a29298-be59-4148-8940-9014f1473ba6"
        }
      ],
      "createdAt": "2025-12-30T00:51:38.558Z",
      "updatedAt": "2025-12-30T00:51:38.558Z",
      "relatedFiles": [
        {
          "path": "components/copy-link-button.tsx",
          "type": "CREATE",
          "description": "복사 버튼 컴포넌트"
        },
        {
          "path": "lib/clipboard.ts",
          "type": "REFERENCE",
          "description": "유틸리티 참조"
        }
      ],
      "implementationGuide": "1. components/copy-link-button.tsx 생성\n2. Props: url: string, label?: string\n3. 상태 관리:\n   - isCopying: boolean (로딩)\n   - isCopied: boolean (성공 피드백)\n4. 복사 완료 후 2초간 체크 아이콘 표시\n5. shadcn/ui Button, Tooltip 사용\n6. aria-label 추가\n7. 키보드 지원 (Enter, Space)",
      "verificationCriteria": "1. 버튼 클릭 시 URL 복사\n2. 복사 중 로딩 표시\n3. 성공 시 체크 아이콘 2초 표시\n4. 접근성 지원 (aria-label)\n5. 다크 모드 지원",
      "analysisResult": "Phase 2: 공유 링크 복사 기능 구현. 클립보드 API를 활용한 인보이스 공유 링크 복사 기능을 구현합니다."
    },
    {
      "id": "e408e236-2228-4aea-9b59-b44624499988",
      "name": "Task 025: 인보이스 목록에 공유 링크 열 추가",
      "description": "관리자 인보이스 목록 테이블에 공유 링크 복사 버튼 열을 추가합니다. 각 인보이스의 공유 링크 URL을 생성하고, 복사 성공 시 시각적 피드백을 제공합니다.",
      "notes": "Task 022의 관리자 인보이스 목록 페이지 기반. Task 024의 CopyLinkButton 컴포넌트 사용. env.NEXT_PUBLIC_BASE_URL 활용.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "6ed79d66-01ea-44ec-95de-a67bae973880"
        },
        {
          "taskId": "5590a5cb-4a37-44e7-a51c-7928c4c847b3"
        }
      ],
      "createdAt": "2025-12-30T00:51:38.558Z",
      "updatedAt": "2025-12-30T00:51:38.558Z",
      "relatedFiles": [
        {
          "path": "app/(admin)/invoices/page.tsx",
          "type": "TO_MODIFY",
          "description": "테이블에 열 추가"
        },
        {
          "path": "components/copy-link-button.tsx",
          "type": "REFERENCE",
          "description": "버튼 컴포넌트"
        }
      ],
      "implementationGuide": "1. app/(admin)/invoices/page.tsx 수정\n2. 테이블에 '공유 링크' 열 추가\n3. 각 행에 CopyLinkButton 렌더링\n4. URL 생성 로직:\n   - {NEXT_PUBLIC_BASE_URL}/invoices/{invoice.id}\n5. 복사 성공 시 토스트 메시지 (선택적)\n6. Playwright MCP 테스트",
      "verificationCriteria": "1. 복사 버튼 클릭 시 올바른 URL 복사\n2. 복사 성공 후 피드백 표시\n3. 복사된 링크로 인보이스 상세 접근 가능\n4. Playwright MCP 테스트 통과",
      "analysisResult": "Phase 2: 공유 링크 복사 기능 구현. 클립보드 API를 활용한 인보이스 공유 링크 복사 기능을 구현합니다."
    },
    {
      "id": "7ecf3020-6571-4d95-b512-cae49351badb",
      "name": "Task 026: 다크 모드 테마 시스템 검토 및 개선",
      "description": "현재 next-themes 설정을 검토하고 최적화합니다. CSS 변수 기반 테마 색상 체계를 확인하고, 다크 모드 전환 시 깜빡임 방지 처리를 개선합니다.",
      "notes": "next-themes는 이미 설치되어 있음. Tailwind CSS v4의 CSS 변수 기반 테마 시스템 활용. 깜빡임 방지를 위한 suppressHydrationWarning 필수.",
      "status": "pending",
      "dependencies": [],
      "createdAt": "2025-12-30T00:52:10.958Z",
      "updatedAt": "2025-12-30T00:52:10.958Z",
      "relatedFiles": [
        {
          "path": "app/layout.tsx",
          "type": "REFERENCE",
          "description": "루트 레이아웃"
        },
        {
          "path": "components/theme-provider.tsx",
          "type": "REFERENCE",
          "description": "테마 프로바이더"
        },
        {
          "path": "components/theme-toggle.tsx",
          "type": "REFERENCE",
          "description": "테마 토글"
        }
      ],
      "implementationGuide": "1. app/layout.tsx의 ThemeProvider 설정 확인\n2. suppressHydrationWarning 설정 검증\n3. CSS 변수 (--background, --foreground 등) 정의 확인\n4. 테마 전환 스크립트 최적화\n5. 시스템 테마 자동 감지 동작 테스트\n6. components/theme-toggle.tsx 검토",
      "verificationCriteria": "1. 테마 전환 시 깜빡임 없음\n2. 시스템 테마 자동 감지\n3. 라이트/다크/시스템 모드 전환 정상\n4. 브라우저 새로고침 후 테마 유지\n5. CSS 변수 정의 확인",
      "analysisResult": "Phase 3: 다크 모드 기능 완성. next-themes를 활용한 일관된 다크 모드 경험을 모든 페이지와 컴포넌트에 적용합니다."
    },
    {
      "id": "9318e21b-f810-41ce-ade7-900e1bb16e89",
      "name": "Task 027: 핵심 페이지 다크 모드 스타일 적용",
      "description": "홈, 인보이스 목록, 인보이스 상세, 로그인 페이지에 다크 모드 스타일을 적용하고 검증합니다. 모든 페이지에서 텍스트 가독성과 시각적 일관성을 확보합니다.",
      "notes": "Tailwind CSS semantic tokens 사용 필수. 하드코딩된 색상(bg-white, text-black 등) 제거. 모든 페이지에서 다크 모드 호환성 확보.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "7ecf3020-6571-4d95-b512-cae49351badb"
        }
      ],
      "createdAt": "2025-12-30T00:52:10.958Z",
      "updatedAt": "2025-12-30T00:52:10.958Z",
      "relatedFiles": [
        {
          "path": "app/(main)/page.tsx",
          "type": "TO_MODIFY",
          "description": "홈 페이지"
        },
        {
          "path": "app/(admin)/invoices/page.tsx",
          "type": "TO_MODIFY",
          "description": "인보이스 목록"
        },
        {
          "path": "app/(main)/invoices/[id]/page.tsx",
          "type": "TO_MODIFY",
          "description": "인보이스 상세"
        },
        {
          "path": "app/(auth)/login/page.tsx",
          "type": "TO_MODIFY",
          "description": "로그인 페이지"
        }
      ],
      "implementationGuide": "1. app/(main)/page.tsx (홈) 다크 모드 검증\n2. app/(admin)/invoices/page.tsx (목록) 다크 모드 적용\n3. app/(main)/invoices/[id]/page.tsx (상세) 다크 모드 적용\n4. app/(auth)/login/page.tsx (로그인) 다크 모드 적용\n5. 각 페이지에서 semantic tokens 사용 확인:\n   - bg-background, bg-card\n   - text-foreground, text-muted-foreground\n   - border\n6. 다크 모드에서 시각적 테스트",
      "verificationCriteria": "1. 모든 페이지에서 다크 모드 정상 작동\n2. 텍스트 가독성 확보\n3. semantic tokens 사용\n4. 시각적 일관성 유지",
      "analysisResult": "Phase 3: 다크 모드 기능 완성. next-themes를 활용한 일관된 다크 모드 경험을 모든 페이지와 컴포넌트에 적용합니다."
    },
    {
      "id": "65329af9-33bc-4b55-a697-55aa83834401",
      "name": "Task 028: 공통 컴포넌트 다크 모드 일관성 검토",
      "description": "Header, Footer, 인보이스 테이블, 폼 컴포넌트 등 공통 컴포넌트의 다크 모드 스타일을 검증하고 개선합니다. 모든 컴포넌트에서 일관된 다크 모드 경험을 제공합니다.",
      "notes": "shadcn/ui 컴포넌트는 기본적으로 다크 모드를 지원하지만, 커스텀 컴포넌트는 검증 필요. semantic tokens 일관성 확인.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "9318e21b-f810-41ce-ade7-900e1bb16e89"
        }
      ],
      "createdAt": "2025-12-30T00:52:10.958Z",
      "updatedAt": "2025-12-30T00:52:10.958Z",
      "relatedFiles": [
        {
          "path": "components/header.tsx",
          "type": "TO_MODIFY",
          "description": "헤더"
        },
        {
          "path": "components/footer.tsx",
          "type": "TO_MODIFY",
          "description": "푸터"
        },
        {
          "path": "components/invoice-table.tsx",
          "type": "TO_MODIFY",
          "description": "인보이스 테이블"
        },
        {
          "path": "components/copy-link-button.tsx",
          "type": "REFERENCE",
          "description": "복사 버튼"
        }
      ],
      "implementationGuide": "1. components/header.tsx 다크 모드 검증\n2. components/footer.tsx 다크 모드 검증\n3. components/invoice-table.tsx 다크 모드 개선\n4. components/ui/* 폼 컴포넌트 검증\n5. components/copy-link-button.tsx 다크 모드 확인\n6. PDF 다운로드 버튼 등 액션 버튼 스타일 검증\n7. Playwright MCP 테스트:\n   - 라이트/다크 모드 전환\n   - 모든 페이지 가독성\n   - 테마 설정 유지",
      "verificationCriteria": "1. 라이트/다크/시스템 모드 전환 정상\n2. 모든 페이지 텍스트 가독성\n3. 테마 전환 시 깜빡임 없음\n4. 브라우저 새로고침 후 테마 유지\n5. Playwright MCP 테스트 통과",
      "analysisResult": "Phase 3: 다크 모드 기능 완성. next-themes를 활용한 일관된 다크 모드 경험을 모든 페이지와 컴포넌트에 적용합니다."
    },
    {
      "id": "aec24d92-583a-41c9-82f5-ee8ee28c4a15",
      "name": "Task 029: 전체 사용자 플로우 통합 테스트",
      "description": "Playwright MCP를 사용하여 관리자 로그인, 인보이스 목록 조회, 공유 링크 복사, 클라이언트 접근, 다크 모드 전환 등 전체 사용자 플로우를 테스트합니다. 에러 핸들링 및 엣지 케이스도 검증합니다.",
      "notes": "Playwright MCP 도구 활용. browser_navigate, browser_click, browser_snapshot 등 사용. 모든 핵심 플로우가 정상 작동하는지 확인.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "5590a5cb-4a37-44e7-a51c-7928c4c847b3"
        },
        {
          "taskId": "e408e236-2228-4aea-9b59-b44624499988"
        },
        {
          "taskId": "65329af9-33bc-4b55-a697-55aa83834401"
        }
      ],
      "createdAt": "2025-12-30T00:52:39.509Z",
      "updatedAt": "2025-12-30T00:52:39.509Z",
      "relatedFiles": [
        {
          "path": "app/(admin)/invoices/page.tsx",
          "type": "REFERENCE",
          "description": "테스트 대상"
        },
        {
          "path": "app/(auth)/login/page.tsx",
          "type": "REFERENCE",
          "description": "테스트 대상"
        },
        {
          "path": "app/(main)/invoices/[id]/page.tsx",
          "type": "REFERENCE",
          "description": "테스트 대상"
        }
      ],
      "implementationGuide": "1. Playwright MCP 테스트 시나리오 작성:\n   - 관리자 플로우: 로그인 -> 인보이스 목록 -> 링크 복사 -> 로그아웃\n   - 클라이언트 플로우: 공유 링크 접근 -> 인보이스 확인 -> PDF 다운로드\n   - 미인증 접근: 보호된 페이지 접근 -> 리다이렉션 확인\n   - 다크 모드: 테마 전환 -> 페이지 이동 -> 테마 유지\n2. 에러 케이스 테스트:\n   - 잘못된 자격 증명\n   - 만료된 세션\n   - 존재하지 않는 인보이스\n3. 테스트 실행 및 결과 검증",
      "verificationCriteria": "1. 관리자 로그인 -> 목록 -> 복사 -> 로그아웃 플로우 통과\n2. 클라이언트 공유 링크 접근 -> PDF 다운로드 플로우 통과\n3. 미인증 접근 시 리다이렉션 확인\n4. 다크 모드 전환 및 유지 확인\n5. 모든 Playwright MCP 테스트 통과",
      "analysisResult": "Phase 4: 통합 테스트 및 최적화. 전체 사용자 플로우를 Playwright MCP로 테스트하고, 성능을 최적화하며, 문서를 업데이트합니다."
    },
    {
      "id": "34986400-37bf-4541-b3b6-03d41695c61c",
      "name": "Task 030: 성능 최적화 및 문서화",
      "description": "인증 상태 체크를 최적화하고, 클라이언트 사이드 상태 관리를 개선합니다. README.md에 관리자 인증 설정 가이드를 추가하고, 환경 변수 설정 문서를 업데이트합니다.",
      "notes": "최종 문서화 작업. 프로덕션 배포를 위한 준비. 성능 최적화는 선택적이며, 문서화는 필수.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "aec24d92-583a-41c9-82f5-ee8ee28c4a15"
        }
      ],
      "createdAt": "2025-12-30T00:52:39.509Z",
      "updatedAt": "2025-12-30T00:52:39.509Z",
      "relatedFiles": [
        {
          "path": "README.md",
          "type": "TO_MODIFY",
          "description": "인증 가이드 추가"
        },
        {
          "path": ".env.example",
          "type": "REFERENCE",
          "description": "환경 변수 예시"
        },
        {
          "path": "lib/session.ts",
          "type": "TO_MODIFY",
          "description": "성능 최적화"
        }
      ],
      "implementationGuide": "1. 성능 최적화:\n   - 인증 상태 체크 캐싱 (불필요한 API 호출 최소화)\n   - React Context 최적화 (memo, useMemo)\n   - 세션 검증 로직 개선\n2. README.md 업데이트:\n   - 관리자 인증 설정 가이드 섹션 추가\n   - 환경 변수 설명 (ADMIN_USERNAME, ADMIN_PASSWORD, SESSION_SECRET)\n   - 로그인 방법 안내\n   - 보안 주의사항\n3. .env.example 최종 검토\n4. 문서 일관성 확인",
      "verificationCriteria": "1. README.md에 관리자 인증 섹션 추가\n2. 환경 변수 설명 완료\n3. 인증 상태 체크 최적화\n4. 모든 문서 일관성 확인\n5. 프로덕션 배포 준비 완료",
      "analysisResult": "Phase 4: 통합 테스트 및 최적화. 전체 사용자 플로우를 Playwright MCP로 테스트하고, 성능을 최적화하며, 문서를 업데이트합니다."
    }
  ]
}